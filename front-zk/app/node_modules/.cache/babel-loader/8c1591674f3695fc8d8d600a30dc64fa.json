{"ast":null,"code":"import { initialize } from 'zokrates-js';\nimport HASH from '../codes/hash';\n\nconst genId = async toHash => {\n  const hasher = await import('witness');\n  const to_witness = hasher.genHash(toHash);\n  console.log(JSON.parse(to_witness));\n  const format_witness = JSON.parse(to_witness).map(x => '0x' + x.toString(16).padStart(8, \"0\"));\n  console.log(format_witness);\n  const test = hasher.genSecretAndId(toHash);\n  const test_Ans = test.split(\";\");\n  console.log(test_Ans);\n  const format_test = JSON.parse(test_Ans[1]).map(x => '0x' + x.toString(16).padStart(8, \"0\"));\n  console.log(format_test);\n  const zok = await initialize();\n  const artifacts = zok.compile(HASH);\n  const {\n    output\n  } = zok.computeWitness(artifacts, [format_witness]);\n  return output;\n};\n\nexport default genId;","map":{"version":3,"sources":["/home/matias/Memoria/Demo/front-zk/app/src/utils/genId.js"],"names":["initialize","HASH","genId","toHash","hasher","to_witness","genHash","console","log","JSON","parse","format_witness","map","x","toString","padStart","test","genSecretAndId","test_Ans","split","format_test","zok","artifacts","compile","output","computeWitness"],"mappings":"AAAA,SAASA,UAAT,QAA2B,aAA3B;AACA,OAAOC,IAAP,MAAkB,eAAlB;;AAEA,MAAMC,KAAK,GAAG,MAAOC,MAAP,IAAkB;AAC5B,QAAMC,MAAM,GAAG,MAAM,OAAO,SAAP,CAArB;AACA,QAAMC,UAAU,GAAGD,MAAM,CAACE,OAAP,CAAeH,MAAf,CAAnB;AACAI,EAAAA,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,KAAL,CAAWL,UAAX,CAAZ;AACA,QAAMM,cAAc,GAAGF,IAAI,CAACC,KAAL,CAAWL,UAAX,EAAuBO,GAAvB,CAA4BC,CAAD,IAAM,OAAMA,CAAC,CAACC,QAAF,CAAW,EAAX,EAAeC,QAAf,CAAwB,CAAxB,EAA0B,GAA1B,CAAvC,CAAvB;AACAR,EAAAA,OAAO,CAACC,GAAR,CAAYG,cAAZ;AACA,QAAMK,IAAI,GAAGZ,MAAM,CAACa,cAAP,CAAsBd,MAAtB,CAAb;AACA,QAAMe,QAAQ,GAAGF,IAAI,CAACG,KAAL,CAAW,GAAX,CAAjB;AACAZ,EAAAA,OAAO,CAACC,GAAR,CAAYU,QAAZ;AACA,QAAME,WAAW,GAAGX,IAAI,CAACC,KAAL,CAAWQ,QAAQ,CAAC,CAAD,CAAnB,EAAwBN,GAAxB,CAA6BC,CAAD,IAAM,OAAMA,CAAC,CAACC,QAAF,CAAW,EAAX,EAAeC,QAAf,CAAwB,CAAxB,EAA0B,GAA1B,CAAxC,CAApB;AACAR,EAAAA,OAAO,CAACC,GAAR,CAAYY,WAAZ;AACA,QAAMC,GAAG,GAAG,MAAMrB,UAAU,EAA5B;AACA,QAAMsB,SAAS,GAAGD,GAAG,CAACE,OAAJ,CAAYtB,IAAZ,CAAlB;AACA,QAAM;AAAEuB,IAAAA;AAAF,MAAYH,GAAG,CAACI,cAAJ,CAAmBH,SAAnB,EAA8B,CAACX,cAAD,CAA9B,CAAlB;AACA,SAAOa,MAAP;AACH,CAfD;;AAiBA,eAAetB,KAAf","sourcesContent":["import { initialize } from 'zokrates-js';\nimport HASH  from '../codes/hash';\n\nconst genId = async (toHash) => {\n    const hasher = await import('witness');\n    const to_witness = hasher.genHash(toHash);\n    console.log(JSON.parse(to_witness));\n    const format_witness = JSON.parse(to_witness).map((x) =>'0x'+ x.toString(16).padStart(8,\"0\"))\n    console.log(format_witness);\n    const test = hasher.genSecretAndId(toHash);\n    const test_Ans = test.split(\";\");\n    console.log(test_Ans);\n    const format_test = JSON.parse(test_Ans[1]).map((x) =>'0x'+ x.toString(16).padStart(8,\"0\"));\n    console.log(format_test);\n    const zok = await initialize();\n    const artifacts = zok.compile(HASH);\n    const { output} = zok.computeWitness(artifacts, [format_witness]);\n    return output\n}\n\nexport default genId;\n"]},"metadata":{},"sourceType":"module"}
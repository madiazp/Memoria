{"ast":null,"code":"import axios from 'axios';\nimport CONST from '../config/constant';\nconst apicc = {};\n\napicc.registerId = async id => {\n  const res = await axios.post(`${CONST.API.url}/addId`, {\n    id\n  });\n  return res;\n};\n\napicc.getArtifacts = async () => {\n  const artifacts = await axios.get(`${CONST.API.url}/artifacts`);\n  return artifacts.data.payload;\n};\n\napicc.setup = async (voteConstant, numberVoters) => {\n  const formatter = w => JSON.parse(w).map(x => '0x' + x.toString(16).padStart(8, \"0\"));\n\n  const voteObject = {\n    value: voteConstant\n  };\n  const hasher = await import('witness');\n  const constHash = hasher.genHash(voteConstant);\n  voteObject.hash = formatter(constHash);\n  const res = await axios.post(`${CONST.API.url}/init`, {\n    voteConstant: voteObject,\n    numberVoters\n  });\n  return res.data.message;\n};\n\napicc.getStadistics = async () => {\n  const res = await axios.get(`${CONST.API.url}/stat`);\n  return res.data.message;\n};\n\napicc.sendVote = () => {};\n\nexport default apicc;","map":{"version":3,"sources":["/home/matias/Memoria/Demo/front-zk/app/src/helpers/apicc.js"],"names":["axios","CONST","apicc","registerId","id","res","post","API","url","getArtifacts","artifacts","get","data","payload","setup","voteConstant","numberVoters","formatter","w","JSON","parse","map","x","toString","padStart","voteObject","value","hasher","constHash","genHash","hash","message","getStadistics","sendVote"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AAEA,MAAMC,KAAK,GAAG,EAAd;;AAEAA,KAAK,CAACC,UAAN,GAAmB,MAAOC,EAAP,IAAc;AAC/B,QAAMC,GAAG,GAAG,MAAML,KAAK,CAACM,IAAN,CACf,GAAEL,KAAK,CAACM,GAAN,CAAUC,GAAI,QADD,EAEhB;AAAEJ,IAAAA;AAAF,GAFgB,CAAlB;AAIE,SAAOC,GAAP;AACH,CAND;;AAQAH,KAAK,CAACO,YAAN,GAAqB,YAAY;AAC7B,QAAMC,SAAS,GAAG,MAAMV,KAAK,CAACW,GAAN,CACnB,GAAEV,KAAK,CAACM,GAAN,CAAUC,GAAI,YADG,CAAxB;AAGA,SAAOE,SAAS,CAACE,IAAV,CAAeC,OAAtB;AACH,CALD;;AAOAX,KAAK,CAACY,KAAN,GAAc,OAAOC,YAAP,EAAqBC,YAArB,KAAsC;AAClD,QAAMC,SAAS,GAAGC,CAAC,IAAIC,IAAI,CAACC,KAAL,CAAWF,CAAX,EAAcG,GAAd,CAAmBC,CAAD,IAAM,OAAMA,CAAC,CAACC,QAAF,CAAW,EAAX,EAAeC,QAAf,CAAwB,CAAxB,EAA0B,GAA1B,CAA9B,CAAvB;;AACA,QAAMC,UAAU,GAAG;AACjBC,IAAAA,KAAK,EAAEX;AADU,GAAnB;AAGA,QAAMY,MAAM,GAAG,MAAM,OAAO,SAAP,CAArB;AACA,QAAMC,SAAS,GAAGD,MAAM,CAACE,OAAP,CAAed,YAAf,CAAlB;AACAU,EAAAA,UAAU,CAACK,IAAX,GAAkBb,SAAS,CAACW,SAAD,CAA3B;AACA,QAAMvB,GAAG,GAAG,MAAML,KAAK,CAACM,IAAN,CACf,GAAEL,KAAK,CAACM,GAAN,CAAUC,GAAI,OADD,EAEhB;AACEO,IAAAA,YAAY,EAAEU,UADhB;AAEET,IAAAA;AAFF,GAFgB,CAAlB;AAOA,SAAOX,GAAG,CAACO,IAAJ,CAASmB,OAAhB;AACD,CAhBD;;AAkBA7B,KAAK,CAAC8B,aAAN,GAAsB,YAAY;AAC/B,QAAM3B,GAAG,GAAG,MAAML,KAAK,CAACW,GAAN,CACf,GAAEV,KAAK,CAACM,GAAN,CAAUC,GAAI,OADD,CAAlB;AAGA,SAAOH,GAAG,CAACO,IAAJ,CAASmB,OAAhB;AACF,CALD;;AAOA7B,KAAK,CAAC+B,QAAN,GAAiB,MAAM,CACtB,CADD;;AAGA,eAAe/B,KAAf","sourcesContent":["import axios from 'axios';\nimport CONST from '../config/constant';\n\nconst apicc = {};\n\napicc.registerId = async (id) => {\n  const res = await axios.post(\n    `${CONST.API.url}/addId`,\n    { id },\n  );\n    return res;\n};\n\napicc.getArtifacts = async () => {\n    const artifacts = await axios.get(\n        `${CONST.API.url}/artifacts`,\n    );\n    return artifacts.data.payload;\n};\n\napicc.setup = async (voteConstant, numberVoters) => {\n  const formatter = w => JSON.parse(w).map((x) =>'0x'+ x.toString(16).padStart(8,\"0\"));\n  const voteObject = {\n    value: voteConstant,     \n  };\n  const hasher = await import('witness');\n  const constHash = hasher.genHash(voteConstant);\n  voteObject.hash = formatter(constHash);\n  const res = await axios.post(\n    `${CONST.API.url}/init`,\n    {\n      voteConstant: voteObject,\n      numberVoters,\n    },\n  );\n  return res.data.message;\n};\n\napicc.getStadistics = async () => {\n   const res = await axios.get(\n     `${CONST.API.url}/stat`,\n   );\n   return res.data.message;\n};\n\napicc.sendVote = () => {\n};\n\nexport default apicc;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { initialize } from 'zokrates-js';\nimport HASH from '../codes/hash';\n\nconst genId = async toHash => {\n  const hasher = await import('witness');\n  const to_witness = hasher.genHash(toHash);\n  console.log(JSON.parse(to_witness));\n  const format_witness = JSON.parse(to_witness).map(x => '0x' + x.toString(16).padStart(8, \"0\"));\n  console.log(format_witness);\n  const zok = await initialize();\n  const artifacts = zok.compile(HASH);\n  const {\n    output\n  } = zok.computeWitness(artifacts, [format_witness]);\n  const test = hasher.genSecretAndId(toHash);\n  const format_test = JSON.parse(test).map(x => '0x' + x.toString(16).padStart(8, \"0\"));\n  console.log(format_test);\n  return output;\n};\n\nexport default genId;","map":{"version":3,"sources":["/home/matias/Memoria/Demo/front-zk/app/src/utils/genId.js"],"names":["initialize","HASH","genId","toHash","hasher","to_witness","genHash","console","log","JSON","parse","format_witness","map","x","toString","padStart","zok","artifacts","compile","output","computeWitness","test","genSecretAndId","format_test"],"mappings":"AAAA,SAASA,UAAT,QAA2B,aAA3B;AACA,OAAOC,IAAP,MAAkB,eAAlB;;AAEA,MAAMC,KAAK,GAAG,MAAOC,MAAP,IAAkB;AAC5B,QAAMC,MAAM,GAAG,MAAM,OAAO,SAAP,CAArB;AACA,QAAMC,UAAU,GAAGD,MAAM,CAACE,OAAP,CAAeH,MAAf,CAAnB;AACAI,EAAAA,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,KAAL,CAAWL,UAAX,CAAZ;AACA,QAAMM,cAAc,GAAGF,IAAI,CAACC,KAAL,CAAWL,UAAX,EAAuBO,GAAvB,CAA4BC,CAAD,IAAM,OAAMA,CAAC,CAACC,QAAF,CAAW,EAAX,EAAeC,QAAf,CAAwB,CAAxB,EAA0B,GAA1B,CAAvC,CAAvB;AACAR,EAAAA,OAAO,CAACC,GAAR,CAAYG,cAAZ;AACA,QAAMK,GAAG,GAAG,MAAMhB,UAAU,EAA5B;AACA,QAAMiB,SAAS,GAAGD,GAAG,CAACE,OAAJ,CAAYjB,IAAZ,CAAlB;AACA,QAAM;AAAEkB,IAAAA;AAAF,MAAYH,GAAG,CAACI,cAAJ,CAAmBH,SAAnB,EAA8B,CAACN,cAAD,CAA9B,CAAlB;AACA,QAAMU,IAAI,GAAGjB,MAAM,CAACkB,cAAP,CAAsBnB,MAAtB,CAAb;AACA,QAAMoB,WAAW,GAAGd,IAAI,CAACC,KAAL,CAAWW,IAAX,EAAiBT,GAAjB,CAAsBC,CAAD,IAAM,OAAMA,CAAC,CAACC,QAAF,CAAW,EAAX,EAAeC,QAAf,CAAwB,CAAxB,EAA0B,GAA1B,CAAjC,CAApB;AACAR,EAAAA,OAAO,CAACC,GAAR,CAAYe,WAAZ;AACA,SAAOJ,MAAP;AACH,CAbD;;AAeA,eAAejB,KAAf","sourcesContent":["import { initialize } from 'zokrates-js';\nimport HASH  from '../codes/hash';\n\nconst genId = async (toHash) => {\n    const hasher = await import('witness');\n    const to_witness = hasher.genHash(toHash);\n    console.log(JSON.parse(to_witness));\n    const format_witness = JSON.parse(to_witness).map((x) =>'0x'+ x.toString(16).padStart(8,\"0\"))\n    console.log(format_witness);\n    const zok = await initialize();\n    const artifacts = zok.compile(HASH);\n    const { output} = zok.computeWitness(artifacts, [format_witness]);\n    const test = hasher.genSecretAndId(toHash);\n    const format_test = JSON.parse(test).map((x) =>'0x'+ x.toString(16).padStart(8,\"0\"));\n    console.log(format_test);\n    return output\n}\n\nexport default genId;\n"]},"metadata":{},"sourceType":"module"}